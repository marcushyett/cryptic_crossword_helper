<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sunday Times Cryptic No 5179</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        .container {
            display: flex;
            gap: 20px;
        }
        .grid {
            display: grid;
            grid-template-columns: repeat(15, 30px);
            grid-template-rows: repeat(15, 30px);
            gap: 1px;
            border: 2px solid #000;
            background: #000;
        }
        .cell {
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            font-weight: bold;
            position: relative;
            cursor: pointer;
        }
        .cell.blank {
            background: black;
        }
        .cell .number {
            position: absolute;
            top: 2px;
            left: 2px;
            font-size: 10px;
            color: #666;
        }
        .clues {
            flex: 1;
        }
        .clue-group {
            margin-bottom: 20px;
        }
        .clue {
            margin-bottom: 10px;
            padding: 5px;
            border: 1px solid #ddd;
            cursor: pointer;
        }
        .clue:hover {
            background: #f0f0f0;
        }
        .clue.revealed {
            background: #e0ffe0;
        }
        .reveal-btn {
            background: #007bff;
            color: white;
            border: none;
            padding: 5px 10px;
            cursor: pointer;
            margin-left: 10px;
        }
        .reveal-btn:hover {
            background: #0056b3;
        }
        .answer {
            display: none;
            font-weight: bold;
            color: #007bff;
        }
        .clue.revealed .answer {
            display: inline;
        }
    </style>
</head>
<body>
    <h1>Sunday Times Cryptic No 5179</h1>
    <div class="container">
        <div class="grid" id="grid"></div>
        <div class="clues" id="clues"></div>
    </div>

    <script>
        const gameData = {"title": "Sunday Times Cryptic No 5179", "grid": [[{"SquareID": 1, "Number": "1", "Letter": "V", "Blank": "", "WordAcrossID": 1, "WordDownID": 15}, {"SquareID": 2, "Number": "", "Letter": "I", "Blank": "", "WordAcrossID": 1, "WordDownID": ""}, {"SquareID": 3, "Number": "2", "Letter": "S", "Blank": "", "WordAcrossID": 1, "WordDownID": 16}, {"SquareID": 4, "Number": "", "Letter": "I", "Blank": "", "WordAcrossID": 1, "WordDownID": ""}, {"SquareID": 5, "Number": "3", "Letter": "O", "Blank": "", "WordAcrossID": 1, "WordDownID": 17}, {"SquareID": 6, "Number": "", "Letter": "N", "Blank": "", "WordAcrossID": 1, "WordDownID": ""}, {"SquareID": 7, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}, {"SquareID": 8, "Number": "4", "Letter": "C", "Blank": "", "WordAcrossID": 2, "WordDownID": ""}, {"SquareID": 9, "Number": "5", "Letter": "H", "Blank": "", "WordAcrossID": 2, "WordDownID": 18}, {"SquareID": 10, "Number": "", "Letter": "I", "Blank": "", "WordAcrossID": 2, "WordDownID": ""}, {"SquareID": 11, "Number": "6", "Letter": "P", "Blank": "", "WordAcrossID": 2, "WordDownID": 19}, {"SquareID": 12, "Number": "", "Letter": "S", "Blank": "", "WordAcrossID": 2, "WordDownID": ""}, {"SquareID": 13, "Number": "7", "Letter": "H", "Blank": "", "WordAcrossID": 2, "WordDownID": 20}, {"SquareID": 14, "Number": "", "Letter": "O", "Blank": "", "WordAcrossID": 2, "WordDownID": ""}, {"SquareID": 15, "Number": "8", "Letter": "P", "Blank": "", "WordAcrossID": 2, "WordDownID": 21}], [{"SquareID": 16, "Number": "", "Letter": "A", "Blank": "", "WordAcrossID": "", "WordDownID": 15}, {"SquareID": 17, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}, {"SquareID": 18, "Number": "", "Letter": "O", "Blank": "", "WordAcrossID": "", "WordDownID": 16}, {"SquareID": 19, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}, {"SquareID": 20, "Number": "", "Letter": "D", "Blank": "", "WordAcrossID": "", "WordDownID": 17}, {"SquareID": 21, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}, {"SquareID": 22, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}, {"SquareID": 23, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}, {"SquareID": 24, "Number": "", "Letter": "O", "Blank": "", "WordAcrossID": "", "WordDownID": 18}, {"SquareID": 25, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}, {"SquareID": 26, "Number": "", "Letter": "R", "Blank": "", "WordAcrossID": "", "WordDownID": 19}, {"SquareID": 27, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}, {"SquareID": 28, "Number": "", "Letter": "E", "Blank": "", "WordAcrossID": "", "WordDownID": 20}, {"SquareID": 29, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}, {"SquareID": 30, "Number": "", "Letter": "O", "Blank": "", "WordAcrossID": "", "WordDownID": 21}], [{"SquareID": 31, "Number": "9", "Letter": "N", "Blank": "", "WordAcrossID": 3, "WordDownID": 15}, {"SquareID": 32, "Number": "", "Letter": "E", "Blank": "", "WordAcrossID": 3, "WordDownID": ""}, {"SquareID": 33, "Number": "", "Letter": "U", "Blank": "", "WordAcrossID": 3, "WordDownID": 16}, {"SquareID": 34, "Number": "", "Letter": "R", "Blank": "", "WordAcrossID": 3, "WordDownID": ""}, {"SquareID": 35, "Number": "", "Letter": "O", "Blank": "", "WordAcrossID": 3, "WordDownID": 17}, {"SquareID": 36, "Number": "", "Letter": "N", "Blank": "", "WordAcrossID": 3, "WordDownID": ""}, {"SquareID": 37, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}, {"SquareID": 38, "Number": "10", "Letter": "J", "Blank": "", "WordAcrossID": 4, "WordDownID": ""}, {"SquareID": 39, "Number": "", "Letter": "U", "Blank": "", "WordAcrossID": 4, "WordDownID": 18}, {"SquareID": 40, "Number": "", "Letter": "V", "Blank": "", "WordAcrossID": 4, "WordDownID": ""}, {"SquareID": 41, "Number": "", "Letter": "E", "Blank": "", "WordAcrossID": 4, "WordDownID": 19}, {"SquareID": 42, "Number": "", "Letter": "N", "Blank": "", "WordAcrossID": 4, "WordDownID": ""}, {"SquareID": 43, "Number": "", "Letter": "I", "Blank": "", "WordAcrossID": 4, "WordDownID": 20}, {"SquareID": 44, "Number": "", "Letter": "L", "Blank": "", "WordAcrossID": 4, "WordDownID": ""}, {"SquareID": 45, "Number": "", "Letter": "E", "Blank": "", "WordAcrossID": 4, "WordDownID": 21}], [{"SquareID": 46, "Number": "", "Letter": "Q", "Blank": "", "WordAcrossID": "", "WordDownID": 15}, {"SquareID": 47, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}, {"SquareID": 48, "Number": "", "Letter": "N", "Blank": "", "WordAcrossID": "", "WordDownID": 16}, {"SquareID": 49, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}, {"SquareID": 50, "Number": "", "Letter": "U", "Blank": "", "WordAcrossID": "", "WordDownID": 17}, {"SquareID": 51, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}, {"SquareID": 52, "Number": "11", "Letter": "G", "Blank": "", "WordAcrossID": "", "WordDownID": 22}, {"SquareID": 53, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}, {"SquareID": 54, "Number": "", "Letter": "S", "Blank": "", "WordAcrossID": "", "WordDownID": 18}, {"SquareID": 55, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}, {"SquareID": 56, "Number": "", "Letter": "S", "Blank": "", "WordAcrossID": "", "WordDownID": 19}, {"SquareID": 57, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}, {"SquareID": 58, "Number": "", "Letter": "F", "Blank": "", "WordAcrossID": "", "WordDownID": 20}, {"SquareID": 59, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}, {"SquareID": 60, "Number": "", "Letter": "T", "Blank": "", "WordAcrossID": "", "WordDownID": 21}], [{"SquareID": 61, "Number": "12", "Letter": "U", "Blank": "", "WordAcrossID": 5, "WordDownID": 15}, {"SquareID": 62, "Number": "", "Letter": "N", "Blank": "", "WordAcrossID": 5, "WordDownID": ""}, {"SquareID": 63, "Number": "", "Letter": "D", "Blank": "", "WordAcrossID": 5, "WordDownID": 16}, {"SquareID": 64, "Number": "", "Letter": "E", "Blank": "", "WordAcrossID": 5, "WordDownID": ""}, {"SquareID": 65, "Number": "", "Letter": "R", "Blank": "", "WordAcrossID": 5, "WordDownID": 17}, {"SquareID": 66, "Number": "", "Letter": "D", "Blank": "", "WordAcrossID": 5, "WordDownID": ""}, {"SquareID": 67, "Number": "", "Letter": "O", "Blank": "", "WordAcrossID": 5, "WordDownID": 22}, {"SquareID": 68, "Number": "", "Letter": "N", "Blank": "", "WordAcrossID": 5, "WordDownID": ""}, {"SquareID": 69, "Number": "", "Letter": "E", "Blank": "", "WordAcrossID": 5, "WordDownID": 18}, {"SquareID": 70, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}, {"SquareID": 71, "Number": "13", "Letter": "S", "Blank": "", "WordAcrossID": 6, "WordDownID": 19}, {"SquareID": 72, "Number": "", "Letter": "H", "Blank": "", "WordAcrossID": 6, "WordDownID": ""}, {"SquareID": 73, "Number": "", "Letter": "E", "Blank": "", "WordAcrossID": 6, "WordDownID": 20}, {"SquareID": 74, "Number": "", "Letter": "E", "Blank": "", "WordAcrossID": 6, "WordDownID": ""}, {"SquareID": 75, "Number": "", "Letter": "R", "Blank": "", "WordAcrossID": 6, "WordDownID": 21}], [{"SquareID": 76, "Number": "", "Letter": "I", "Blank": "", "WordAcrossID": "", "WordDownID": 15}, {"SquareID": 77, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}, {"SquareID": 78, "Number": "", "Letter": "B", "Blank": "", "WordAcrossID": "", "WordDownID": 16}, {"SquareID": 79, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}, {"SquareID": 80, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}, {"SquareID": 81, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}, {"SquareID": 82, "Number": "", "Letter": "D", "Blank": "", "WordAcrossID": "", "WordDownID": 22}, {"SquareID": 83, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}, {"SquareID": 84, "Number": "", "Letter": "O", "Blank": "", "WordAcrossID": "", "WordDownID": 18}, {"SquareID": 85, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}, {"SquareID": 86, "Number": "", "Letter": "E", "Blank": "", "WordAcrossID": "", "WordDownID": 19}, {"SquareID": 87, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}, {"SquareID": 88, "Number": "", "Letter": "R", "Blank": "", "WordAcrossID": "", "WordDownID": 20}, {"SquareID": 89, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}, {"SquareID": 90, "Number": "", "Letter": "Y", "Blank": "", "WordAcrossID": "", "WordDownID": 21}], [{"SquareID": 91, "Number": "14", "Letter": "S", "Blank": "", "WordAcrossID": 7, "WordDownID": 15}, {"SquareID": 92, "Number": "", "Letter": "C", "Blank": "", "WordAcrossID": 7, "WordDownID": ""}, {"SquareID": 93, "Number": "", "Letter": "O", "Blank": "", "WordAcrossID": 7, "WordDownID": 16}, {"SquareID": 94, "Number": "", "Letter": "R", "Blank": "", "WordAcrossID": 7, "WordDownID": ""}, {"SquareID": 95, "Number": "15", "Letter": "P", "Blank": "", "WordAcrossID": 7, "WordDownID": 23}, {"SquareID": 96, "Number": "", "Letter": "I", "Blank": "", "WordAcrossID": 7, "WordDownID": ""}, {"SquareID": 97, "Number": "", "Letter": "O", "Blank": "", "WordAcrossID": 7, "WordDownID": 22}, {"SquareID": 98, "Number": "", "Letter": "N", "Blank": "", "WordAcrossID": 7, "WordDownID": ""}, {"SquareID": 99, "Number": "", "Letter": "F", "Blank": "", "WordAcrossID": 7, "WordDownID": 18}, {"SquareID": 100, "Number": "", "Letter": "I", "Blank": "", "WordAcrossID": 7, "WordDownID": ""}, {"SquareID": 101, "Number": "", "Letter": "S", "Blank": "", "WordAcrossID": 7, "WordDownID": 19}, {"SquareID": 102, "Number": "", "Letter": "H", "Blank": "", "WordAcrossID": 7, "WordDownID": ""}, {"SquareID": 103, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}, {"SquareID": 104, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}, {"SquareID": 105, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}], [{"SquareID": 106, "Number": "", "Letter": "H", "Blank": "", "WordAcrossID": "", "WordDownID": 15}, {"SquareID": 107, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}, {"SquareID": 108, "Number": "", "Letter": "X", "Blank": "", "WordAcrossID": "", "WordDownID": 16}, {"SquareID": 109, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}, {"SquareID": 110, "Number": "", "Letter": "L", "Blank": "", "WordAcrossID": "", "WordDownID": 23}, {"SquareID": 111, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}, {"SquareID": 112, "Number": "", "Letter": "W", "Blank": "", "WordAcrossID": "", "WordDownID": 22}, {"SquareID": 113, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}, {"SquareID": 114, "Number": "", "Letter": "C", "Blank": "", "WordAcrossID": "", "WordDownID": 18}, {"SquareID": 115, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}, {"SquareID": 116, "Number": "", "Letter": "O", "Blank": "", "WordAcrossID": "", "WordDownID": 19}, {"SquareID": 117, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}, {"SquareID": 118, "Number": "16", "Letter": "G", "Blank": "", "WordAcrossID": "", "WordDownID": 24}, {"SquareID": 119, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}, {"SquareID": 120, "Number": "17", "Letter": "S", "Blank": "", "WordAcrossID": "", "WordDownID": 25}], [{"SquareID": 121, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}, {"SquareID": 122, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}, {"SquareID": 123, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}, {"SquareID": 124, "Number": "18", "Letter": "M", "Blank": "", "WordAcrossID": 8, "WordDownID": ""}, {"SquareID": 125, "Number": "", "Letter": "O", "Blank": "", "WordAcrossID": 8, "WordDownID": 23}, {"SquareID": 126, "Number": "", "Letter": "U", "Blank": "", "WordAcrossID": 8, "WordDownID": ""}, {"SquareID": 127, "Number": "", "Letter": "N", "Blank": "", "WordAcrossID": 8, "WordDownID": 22}, {"SquareID": 128, "Number": "", "Letter": "T", "Blank": "", "WordAcrossID": 8, "WordDownID": ""}, {"SquareID": 129, "Number": "", "Letter": "A", "Blank": "", "WordAcrossID": 8, "WordDownID": 18}, {"SquareID": 130, "Number": "", "Letter": "I", "Blank": "", "WordAcrossID": 8, "WordDownID": ""}, {"SquareID": 131, "Number": "", "Letter": "N", "Blank": "", "WordAcrossID": 8, "WordDownID": 19}, {"SquareID": 132, "Number": "", "Letter": "G", "Blank": "", "WordAcrossID": 8, "WordDownID": ""}, {"SquareID": 133, "Number": "", "Letter": "O", "Blank": "", "WordAcrossID": 8, "WordDownID": 24}, {"SquareID": 134, "Number": "", "Letter": "A", "Blank": "", "WordAcrossID": 8, "WordDownID": ""}, {"SquareID": 135, "Number": "", "Letter": "T", "Blank": "", "WordAcrossID": 8, "WordDownID": 25}], [{"SquareID": 136, "Number": "19", "Letter": "Z", "Blank": "", "WordAcrossID": "", "WordDownID": 26}, {"SquareID": 137, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}, {"SquareID": 138, "Number": "20", "Letter": "M", "Blank": "", "WordAcrossID": "", "WordDownID": 27}, {"SquareID": 139, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}, {"SquareID": 140, "Number": "", "Letter": "U", "Blank": "", "WordAcrossID": "", "WordDownID": 23}, {"SquareID": 141, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}, {"SquareID": 142, "Number": "", "Letter": "T", "Blank": "", "WordAcrossID": "", "WordDownID": 22}, {"SquareID": 143, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}, {"SquareID": 144, "Number": "", "Letter": "R", "Blank": "", "WordAcrossID": "", "WordDownID": 18}, {"SquareID": 145, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}, {"SquareID": 146, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}, {"SquareID": 147, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}, {"SquareID": 148, "Number": "", "Letter": "A", "Blank": "", "WordAcrossID": "", "WordDownID": 24}, {"SquareID": 149, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}, {"SquareID": 150, "Number": "", "Letter": "I", "Blank": "", "WordAcrossID": "", "WordDownID": 25}], [{"SquareID": 151, "Number": "21", "Letter": "A", "Blank": "", "WordAcrossID": 9, "WordDownID": 26}, {"SquareID": 152, "Number": "", "Letter": "P", "Blank": "", "WordAcrossID": 9, "WordDownID": ""}, {"SquareID": 153, "Number": "", "Letter": "I", "Blank": "", "WordAcrossID": 9, "WordDownID": 27}, {"SquareID": 154, "Number": "", "Letter": "N", "Blank": "", "WordAcrossID": 9, "WordDownID": ""}, {"SquareID": 155, "Number": "", "Letter": "G", "Blank": "", "WordAcrossID": 9, "WordDownID": 23}, {"SquareID": 156, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}, {"SquareID": 157, "Number": "22", "Letter": "H", "Blank": "", "WordAcrossID": 10, "WordDownID": 22}, {"SquareID": 158, "Number": "", "Letter": "Y", "Blank": "", "WordAcrossID": 10, "WordDownID": ""}, {"SquareID": 159, "Number": "", "Letter": "D", "Blank": "", "WordAcrossID": 10, "WordDownID": 18}, {"SquareID": 160, "Number": "", "Letter": "R", "Blank": "", "WordAcrossID": 10, "WordDownID": ""}, {"SquareID": 161, "Number": "23", "Letter": "A", "Blank": "", "WordAcrossID": 10, "WordDownID": 28}, {"SquareID": 162, "Number": "", "Letter": "U", "Blank": "", "WordAcrossID": 10, "WordDownID": ""}, {"SquareID": 163, "Number": "", "Letter": "L", "Blank": "", "WordAcrossID": 10, "WordDownID": 24}, {"SquareID": 164, "Number": "", "Letter": "I", "Blank": "", "WordAcrossID": 10, "WordDownID": ""}, {"SquareID": 165, "Number": "", "Letter": "C", "Blank": "", "WordAcrossID": 10, "WordDownID": 25}], [{"SquareID": 166, "Number": "", "Letter": "G", "Blank": "", "WordAcrossID": "", "WordDownID": 26}, {"SquareID": 167, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}, {"SquareID": 168, "Number": "", "Letter": "K", "Blank": "", "WordAcrossID": "", "WordDownID": 27}, {"SquareID": 169, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}, {"SquareID": 170, "Number": "", "Letter": "H", "Blank": "", "WordAcrossID": "", "WordDownID": 23}, {"SquareID": 171, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}, {"SquareID": 172, "Number": "", "Letter": "E", "Blank": "", "WordAcrossID": "", "WordDownID": 22}, {"SquareID": 173, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}, {"SquareID": 174, "Number": "", "Letter": "S", "Blank": "", "WordAcrossID": "", "WordDownID": 18}, {"SquareID": 175, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}, {"SquareID": 176, "Number": "", "Letter": "N", "Blank": "", "WordAcrossID": "", "WordDownID": 28}, {"SquareID": 177, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}, {"SquareID": 178, "Number": "", "Letter": "P", "Blank": "", "WordAcrossID": "", "WordDownID": 24}, {"SquareID": 179, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}, {"SquareID": 180, "Number": "", "Letter": "K", "Blank": "", "WordAcrossID": "", "WordDownID": 25}], [{"SquareID": 181, "Number": "24", "Letter": "R", "Blank": "", "WordAcrossID": 11, "WordDownID": 26}, {"SquareID": 182, "Number": "", "Letter": "O", "Blank": "", "WordAcrossID": 11, "WordDownID": ""}, {"SquareID": 183, "Number": "", "Letter": "A", "Blank": "", "WordAcrossID": 11, "WordDownID": 27}, {"SquareID": 184, "Number": "", "Letter": "D", "Blank": "", "WordAcrossID": 11, "WordDownID": ""}, {"SquareID": 185, "Number": "", "Letter": "M", "Blank": "", "WordAcrossID": 11, "WordDownID": 23}, {"SquareID": 186, "Number": "", "Letter": "A", "Blank": "", "WordAcrossID": 11, "WordDownID": ""}, {"SquareID": 187, "Number": "", "Letter": "P", "Blank": "", "WordAcrossID": 11, "WordDownID": 22}, {"SquareID": 188, "Number": "", "Letter": "S", "Blank": "", "WordAcrossID": 11, "WordDownID": ""}, {"SquareID": 189, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}, {"SquareID": 190, "Number": "25", "Letter": "S", "Blank": "", "WordAcrossID": 12, "WordDownID": ""}, {"SquareID": 191, "Number": "", "Letter": "T", "Blank": "", "WordAcrossID": 12, "WordDownID": 28}, {"SquareID": 192, "Number": "", "Letter": "R", "Blank": "", "WordAcrossID": 12, "WordDownID": ""}, {"SquareID": 193, "Number": "", "Letter": "O", "Blank": "", "WordAcrossID": 12, "WordDownID": 24}, {"SquareID": 194, "Number": "", "Letter": "L", "Blank": "", "WordAcrossID": 12, "WordDownID": ""}, {"SquareID": 195, "Number": "", "Letter": "L", "Blank": "", "WordAcrossID": 12, "WordDownID": 25}], [{"SquareID": 196, "Number": "", "Letter": "E", "Blank": "", "WordAcrossID": "", "WordDownID": 26}, {"SquareID": 197, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}, {"SquareID": 198, "Number": "", "Letter": "D", "Blank": "", "WordAcrossID": "", "WordDownID": 27}, {"SquareID": 199, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}, {"SquareID": 200, "Number": "", "Letter": "A", "Blank": "", "WordAcrossID": "", "WordDownID": 23}, {"SquareID": 201, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}, {"SquareID": 202, "Number": "", "Letter": "A", "Blank": "", "WordAcrossID": "", "WordDownID": 22}, {"SquareID": 203, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}, {"SquareID": 204, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}, {"SquareID": 205, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}, {"SquareID": 206, "Number": "", "Letter": "R", "Blank": "", "WordAcrossID": "", "WordDownID": 28}, {"SquareID": 207, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}, {"SquareID": 208, "Number": "", "Letter": "S", "Blank": "", "WordAcrossID": "", "WordDownID": 24}, {"SquareID": 209, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}, {"SquareID": 210, "Number": "", "Letter": "E", "Blank": "", "WordAcrossID": "", "WordDownID": 25}], [{"SquareID": 211, "Number": "26", "Letter": "B", "Blank": "", "WordAcrossID": 13, "WordDownID": 26}, {"SquareID": 212, "Number": "", "Letter": "R", "Blank": "", "WordAcrossID": 13, "WordDownID": ""}, {"SquareID": 213, "Number": "", "Letter": "O", "Blank": "", "WordAcrossID": 13, "WordDownID": 27}, {"SquareID": 214, "Number": "", "Letter": "W", "Blank": "", "WordAcrossID": 13, "WordDownID": ""}, {"SquareID": 215, "Number": "", "Letter": "N", "Blank": "", "WordAcrossID": 13, "WordDownID": 23}, {"SquareID": 216, "Number": "", "Letter": "I", "Blank": "", "WordAcrossID": 13, "WordDownID": ""}, {"SquareID": 217, "Number": "", "Letter": "N", "Blank": "", "WordAcrossID": 13, "WordDownID": 22}, {"SquareID": 218, "Number": "", "Letter": "G", "Blank": "", "WordAcrossID": 13, "WordDownID": ""}, {"SquareID": 219, "Number": "", "Letter": "", "Blank": "blank", "WordAcrossID": "", "WordDownID": ""}, {"SquareID": 220, "Number": "27", "Letter": "B", "Blank": "", "WordAcrossID": 14, "WordDownID": ""}, {"SquareID": 221, "Number": "", "Letter": "A", "Blank": "", "WordAcrossID": 14, "WordDownID": 28}, {"SquareID": 222, "Number": "", "Letter": "T", "Blank": "", "WordAcrossID": 14, "WordDownID": ""}, {"SquareID": 223, "Number": "", "Letter": "T", "Blank": "", "WordAcrossID": 14, "WordDownID": 24}, {"SquareID": 224, "Number": "", "Letter": "E", "Blank": "", "WordAcrossID": 14, "WordDownID": ""}, {"SquareID": 225, "Number": "", "Letter": "R", "Blank": "", "WordAcrossID": 14, "WordDownID": 25}]], "clues": [{"number": "1", "clue": "Branch with detective lacking imagination", "direction": "across", "word_id": 1, "length": 6, "answer": "VISION"}, {"number": "4", "clue": "Nick&rsquo;s bound for a takeaway", "direction": "across", "word_id": 2, "length": 8, "answer": "CHIPSHOP"}, {"number": "9", "clue": "Cell that&rsquo;s vacant, nun packed with cash", "direction": "across", "word_id": 3, "length": 6, "answer": "NEURON"}, {"number": "10", "clue": "Minor jail without a venue for assembly", "direction": "across", "word_id": 4, "length": 8, "answer": "JUVENILE"}, {"number": "12", "clue": "Rare foreign articles put on tape at last", "direction": "across", "word_id": 5, "length": 9, "answer": "UNDERDONE"}, {"number": "13", "clue": "Unadulterated gossamer", "direction": "across", "word_id": 6, "length": 5, "answer": "SHEER"}, {"number": "14", "clue": "Venomous creature sign, &ldquo;Northern Ferret&rdquo;", "direction": "across", "word_id": 7, "length": 12, "answer": "SCORPIONFISH"}, {"number": "18", "clue": "Far from plain butter?", "direction": "across", "word_id": 8, "length": 12, "answer": "MOUNTAINGOAT"}, {"number": "21", "clue": "Acting like a little chap in glasses", "direction": "across", "word_id": 9, "length": 5, "answer": "APING"}, {"number": "22", "clue": "Hectic ICU hardly using piped fluids", "direction": "across", "word_id": 10, "length": 9, "answer": "HYDRAULIC"}, {"number": "24", "clue": "A to Z of fashion covers by Spooner", "direction": "across", "word_id": 11, "length": 8, "answer": "ROADMAPS"}, {"number": "25", "clue": "Way to make a revolution constitutional", "direction": "across", "word_id": 12, "length": 6, "answer": "STROLL"}, {"number": "26", "clue": "Personal escort guards a poet", "direction": "across", "word_id": 13, "length": 8, "answer": "BROWNING"}, {"number": "27", "clue": "Club baseball player", "direction": "across", "word_id": 14, "length": 6, "answer": "BATTER"}, {"number": "1", "clue": "Triumph over, Queen goes through exit abruptly", "direction": "down", "word_id": 15, "length": 8, "answer": "VANQUISH"}, {"number": "2", "clue": "Sensible wood for part of a violin", "direction": "down", "word_id": 16, "length": 8, "answer": "SOUNDBOX"}, {"number": "3", "clue": "Job centre forbidding perfume", "direction": "down", "word_id": 17, "length": 5, "answer": "ODOUR"}, {"number": "5", "clue": "Political thriller&rsquo;s audience, all comedians", "direction": "down", "word_id": 18, "length": 12, "answer": "HOUSEOFCARDS"}, {"number": "6", "clue": "Proceeds from petitions working", "direction": "down", "word_id": 19, "length": 9, "answer": "PRESSESON"}, {"number": "7", "clue": "Lower energy provided this girl&rsquo;s skirts", "direction": "down", "word_id": 20, "length": 6, "answer": "HEIFER"}, {"number": "8", "clue": "Sonnet&rsquo;s last line by a writer", "direction": "down", "word_id": 21, "length": 6, "answer": "POETRY"}, {"number": "11", "clue": "Jockey hoped nag won&rsquo;t fail", "direction": "down", "word_id": 22, "length": 12, "answer": "GODOWNTHEPAN"}, {"number": "15", "clue": "Mere mortal under pressure to be a groundbreaker?", "direction": "down", "word_id": 23, "length": 9, "answer": "PLOUGHMAN"}, {"number": "16", "clue": "End position for one propping up the bar", "direction": "down", "word_id": 24, "length": 8, "answer": "GOALPOST"}, {"number": "17", "clue": "Pedant&rsquo;s delight during summer on vacation", "direction": "down", "word_id": 25, "length": 8, "answer": "STICKLER"}, {"number": "19", "clue": "Capital of Gabon&rsquo;s first new zebra crossing", "direction": "down", "word_id": 26, "length": 6, "answer": "ZAGREB"}, {"number": "20", "clue": "Novel about a complete emperor", "direction": "down", "word_id": 27, "length": 6, "answer": "MIKADO"}, {"number": "23", "clue": "Hollows in a road regularly filled by conservationists", "direction": "down", "word_id": 28, "length": 5, "answer": "ANTRA"}]};

        let gridState = {};
        let revealedClues = new Set();

        function init() {
            createGrid();
            createClues();
            loadState();
        }

        function createGrid() {
            const gridEl = document.getElementById('grid');
            gameData.grid.forEach((row, rowIndex) => {
                row.forEach((cell, colIndex) => {
                    const cellEl = document.createElement('div');
                    cellEl.className = 'cell';
                    if (cell.Blank === 'blank') {
                        cellEl.classList.add('blank');
                    } else {
                        cellEl.textContent = gridState[`${rowIndex}-${colIndex}`] || '';
                        cellEl.contentEditable = true;
                        cellEl.addEventListener('input', (e) => {
                            const value = e.target.textContent.toUpperCase();
                            e.target.textContent = value.slice(-1); // Only last character
                            gridState[`${rowIndex}-${colIndex}`] = value;
                            saveState();
                        });
                        if (cell.Number) {
                            const numEl = document.createElement('div');
                            numEl.className = 'number';
                            numEl.textContent = cell.Number;
                            cellEl.appendChild(numEl);
                        }
                    }
                    gridEl.appendChild(cellEl);
                });
            });
        }

        function createClues() {
            const cluesEl = document.getElementById('clues');
            const groups = {};
            
            gameData.clues.forEach(clue => {
                if (!groups[clue.direction]) {
                    groups[clue.direction] = [];
                }
                groups[clue.direction].push(clue);
            });

            Object.keys(groups).forEach(direction => {
                const groupEl = document.createElement('div');
                groupEl.className = 'clue-group';
                groupEl.innerHTML = `<h3>${direction.charAt(0).toUpperCase() + direction.slice(1)}</h3>`;
                
                groups[direction].forEach(clue => {
                    const clueEl = document.createElement('div');
                    clueEl.className = 'clue';
                    clueEl.dataset.wordId = clue.word_id;
                    
                    const revealBtn = document.createElement('button');
                    revealBtn.className = 'reveal-btn';
                    revealBtn.textContent = 'Reveal';
                    revealBtn.addEventListener('click', () => revealAnswer(clue));
                    
                    clueEl.innerHTML = `
                        <strong>${clue.number}.</strong> ${clue.clue}
                        <span class="answer"> (${clue.answer})</span>
                    `;
                    clueEl.appendChild(revealBtn);
                    
                    if (revealedClues.has(clue.word_id)) {
                        clueEl.classList.add('revealed');
                        fillGridWithAnswer(clue);
                    }
                    
                    groupEl.appendChild(clueEl);
                });
                
                cluesEl.appendChild(groupEl);
            });
        }

        function revealAnswer(clue) {
            revealedClues.add(clue.word_id);
            const clueEl = document.querySelector(`[data-word-id="${clue.word_id}"]`);
            clueEl.classList.add('revealed');
            fillGridWithAnswer(clue);
            saveState();
        }

        function fillGridWithAnswer(clue) {
            const word = gameData.grid.flat().find(cell => 
                cell.WordAcrossID == clue.word_id || cell.WordDownID == clue.word_id
            );
            if (!word) return;
            
            const positions = getWordPositions(clue.word_id);
            positions.forEach((pos, index) => {
                const [row, col] = pos;
                const cellEl = document.querySelector(`.grid .cell:nth-child(${row * 15 + col + 1})`);
                if (cellEl && !cellEl.classList.contains('blank')) {
                    cellEl.textContent = clue.answer[index];
                    gridState[`${row}-${col}`] = clue.answer[index];
                }
            });
        }

        function getWordPositions(wordId) {
            const word = gameData.grid.flat().filter(cell => 
                cell.WordAcrossID == wordId || cell.WordDownID == wordId
            );
            return word.map(cell => {
                const row = Math.floor((cell.SquareID - 1) / 15);
                const col = (cell.SquareID - 1) % 15;
                return [row, col];
            });
        }

        function saveState() {
            localStorage.setItem('crossword_state', JSON.stringify({
                grid: gridState,
                revealed: Array.from(revealedClues)
            }));
        }

        function loadState() {
            const state = localStorage.getItem('crossword_state');
            if (state) {
                const parsed = JSON.parse(state);
                gridState = parsed.grid || {};
                revealedClues = new Set(parsed.revealed || []);
            }
        }

        init();
    </script>
</body>
</html>
